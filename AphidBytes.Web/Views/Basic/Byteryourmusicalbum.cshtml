@model AphidBytes.Accounts.Contracts.Model.BasicGenerateCloneModel
@{
    ViewBag.PageTitle = "Account";
    Layout = "~/Views/Shared/_LayoutNoHeaderFooter.cshtml";
}

<div class="aphidtise_wrap">

    <div class="header_aphidtise">
        <div class="menunav">
            <ul>
                <li><a href="Srevices" class="sect_l">Services</a></li>
                <li><a href="LoginUser">Login</a></li>
                <li><a href="#">The Gall</a></li>
                <li><a href="#">Store</a></li>
                <li><a href="AboutUsPage">About Us</a></li>
                <li><a href="Support">Support</a></li>
            </ul>
        </div>
        <div id="logo"><a href="@Url.Action("Index","Home")" style="cursor:pointer;"> <img src="/images/hphidbytelogo.png"></a> </div>
    </div>
</div>


@*ok div*@
<div id="buttn-suc" style="position: fixed; display: none; margin-top: 20%; margin-left: 38%; z-index: 850;">
    <img src="/Images/othre_popup_bg.png" width="47%" />
    <a style="position: absolute; margin-left: -45%; margin-top: 2%;">
        <img src="/Images/right-icone.png" width="98%" />
    </a>
    <div id="socialname1" style="color: white; height: 85px; margin-left: 15%; margin-top: -13%; overflow: hidden; width: 30%; word-wrap: break-word;"></div>
</div>
@*ok div*@

@*YesNo PopUP*@
<div id="show_pop" style="display: none;">
    <div class="bg_othr_xa" style="display: block; margin-left: 497px; margin-top: 227px; position: absolute; z-index: 100;">
        <div class="bg_yes_no">
            <div>
                <p>Upload in Progress..</p>
            </div>
        </div>
    </div>
</div>
@*YesNo PopUP*@
<div class="@*aphidtise_wrap*@">
    <div class="@*logid*@">
        <div class="logid_out">
            <ul>
                <li><a href="#">@{ var username = AphidBytes.Web.Session_Helper.AphidSession.Current.AuthenticatedUser.Identity.Username; } @username</a></li>
                <li><a href="~/Accounts/Logout">Logout</a></li>
            </ul>

            <div class="profilebg">
                <div class="migprofile">
                    @* <img src="/images/profilebg.png">*@
                    <img src="@Url.Action("Overview", "Basic")" height="100px" />
                </div>
                <div class="profiletext-ct-info">
                    <img src="/images/clone-pa.png">
                    Basic Account
                </div>
            </div>

        </div>
    </div>

</div>

<div>
    <audio id="player" src="" onclick="funct_rest()" />
</div>

@*PopUP For Default*@
<div>
    @* <div>
        <a id="popup-close" href="" class="button"><img src="~/Images/closebotton.png" onclick="CloseThis();" /> </a>
               </div>*@
    <div id="popup" style="display: none; margin-left: -44%; margin-top: -12%; margin-right: 7%; background: url(/images/aphidtisebg.png); overflow-y: scroll; height: 81%;">


        <div id="result"></div>
        <br />


        @*<a id="popup-close" href="" class="button">*@
        <img id="popup-close" class="button" src="~/Images/closebotton.png" onclick="CloseThis();" />
        @* </a>*@
        <p>
            @*<img src="" id="image-placeholder" width="200px" height="200px"  />*@
            <div class="popbyter-mianz">
                <div class="popbyter-miansub">
                    <div class="popbyter-subleft">
                        <a href="@Url.Action("Index","Home")" style="cursor:pointer;"><img src="/images/bphidbyte_sicon.png"></a><br />
        <p><a href="goback();">Back</a></p>

    </div>

    <div class="popbyter-subright">
        @*<p>Processing 72%</p>*@
        <p style="margin-left: 477px; margin-right: 228px; margin-top: 35px;"></p>
        @*<img src="/images/processing-bg.png">*@
        <div id="progress"></div>

    </div>

    <div class="popbyter-sub1">
        <div class="newdragdiv"></div>
        <div class="li_t_a" id="dragiing_div">
            <img id="tick_img" src="/Images/online.png" style="left: 0%; cursor: pointer;">
        </div>

        <div class="popbyter-sub1left">
            <span id="duration_pl" style="float: left; color: white; position: absolute; margin-top: 6%; font-size: 12px;">0.00</span>
            <span id="duration_p" style="float: left; color: white; position: absolute; margin-top: 6%; margin-left: 35%; font-size: 12px;">0.00</span>
            <img src="/images/byteraudiopbg1.png" id="waveimg">
        </div>
    </div>
    <div class="popbyter-sub1right">
        <div class="byter-play-stop">
            <div class="byter-p-s">
                <img src="/images/play-bt.png" id="PlayDefaultAudio">
            </div>
            <div class="byter-p-s">
                <img src="/images/stop-bt.png" id="PauseDefaultAudio">
            </div>
            <div class="byter-p-s">
                <img src="/images/play-bt.png" id="PlayNextAudio">
            </div>
        </div>
        <p>Interruption File:</p>

        <dl id="samplebyter" class="dropdownbyter" style="margin: 5px 0 5px 5px; width: 210px;">

            <dt><a id="basicbyter"><span id="DefaultText">Default AphidByte</span></a></dt>
            <dd>
                <ul id="byterclick">
                    <li><a>Default AphidByte</a></li>
                    @*  @foreach (var item in ViewBag.AudioFiles)
                        {
                            <li><a>@item.Text</a></li>
                        }*@
                </ul>
            </dd>
        </dl>
        <p>Interruption Style:</p>
        <dl id="samplebyter" class="dropdownbyter" style="margin: 5px 0 5px 5px; width: 210px;">
            <dt><a id="basicbyterone"><span id="text1">Default AphidByte</span></a></dt>
            <dd>
                <ul id="byterclick2">
                    <li><a>Default </a></li>
                    <li><a>Producer Tag Sequence</a></li>
                    <li><a>Beginning of File</a></li>
                    <li><a>Ending of File</a></li>
                </ul>
            </dd>
        </dl>

    </div>

    <div class="popbyter-footer1">
        <div class="popbyter-footer1left">
            <p style="font-size: 35px; text-align: center; padding: 30px;">“Song A”</p>
            <p style="float: left; width: 10px;">
                <img src="/images/indicates-bg.png">
            </p>
            <p style="margin: 12px 12px 7px 34px;">Indicates Interruption Portion</p>
        </div>
        <div class="popbyter-footer1left">
            <p>
                Default, the music streams
                and the audio interruption file interjects in the middle of song. The music resumes but not from the point in which it left off. The audio interruption replaces  the audio in the section in which it is placed.
            </p>

        </div>
        <div class="popbyter-footer1left">
            <p class="byter-preview">Preview</p>
            <p class="byter-continue">Continue</p>
        </div>
    </div>
</div>
            </div>
        </p>
    </div>
</div>
@*Popup For Default*@
<div id="button-bg1" class="hidden popupyesorno" style="display: none;  text-align: center; width: 350px!important;">

    <div class="errormsg" style=" margin: 0;padding: 0;text-align: center;width: 100%!important;">
        Invalid File
    </div>
    <br />
    <div id="button-c1" class="yesornobutton">

        <button>Ok</button>


    </div>


</div>
<div id="button-bg2" class="hidden" style="display: none">

    <div class="errormsg">
        Please Select Audio
    </div>
    <div id="button-c2">
        <img src="/img/button_bgw.png" />
    </div>

</div>
@*<div id="button-bg3" style="display: none">

        <div class="errormsg">

            Captcha Do no match
        </div>
        <div id="button-c3">
            <img src="/img/button_bgw.png" />
        </div>

    </div>*@
<div id="confmBox" class="confirm_send_mail_div sendme_con" style="display: none;">

    <div>
        <h5 class="sendme_con_h5">
            Confirmation:<img onclick="close_confmBox_popup()" class="cancel_delete-link" style="cursor: pointer; float: right; margin-top: 7px;" src="/Images/close.png">
        </h5>
        <p style="margin-top: 8%;">
            <strong>Are you Sure want to Upgrade ?</strong> <span id="Ncontacts"></span>
        </p>


        <div class="btn-group sendme_con_groupbtn">
            <button id="confrm_yes" class="btn add  sendme_con_yes" onclick="UpgradeTOPremium()">Yes</button>
            <div class="btn cancel sendme_con_no" onclick="close_confmBox_popup()" style="cursor: pointer;">No</div>
        </div>

    </div>
</div>
<div id="yesno" style="display: none;">
    <div class="bg_othr_xa" style="display: block; margin-left: 497px; margin-top: 227px; position: absolute; z-index: 100;">
        <div class="bg_yes_no">
            <div>
                <p>Are you sure to Upgrade?</p>
            </div>
            <div>
                <p id="yes"><a href="#">Yes</a></p>
                <p id="no"><a href="#">No</a></p>
            </div>
        </div>
    </div>
</div>

<div id="button-bg4" class="hidden" style="display: none">

    <div class="errormsg">
        Error Occured Try Again
    </div>
    <div id="button-c3">
        <img src="/img/button_bgw.png" />
    </div>

</div>

<div style="display: none;" id="upgradebox">
    <div class="bg_othr_box">
        <div class="bg_othr_box_1">
            <p>Account Upgraded Successfully Completed</p>
            <p></p>
            <p style="margin-top: 22px; margin-left: 137px;">
                <img src="~/Images/right-icone.png">
            </p>

            <p style="margin-top: 88px;"><a href="~/Accounts/Logout">OK</a></p>
        </div>
    </div>
</div>



<div class="headertab_aphidtise" style="height:0px;">
    <div class="aphidbyteleft">

        <ul class="aphidbytelist-tq">
            <li><a href="BasicAccountINfo" class="basicselects">Account Info</a></li>
            <li>

            </li>
            <li><a href="Uploadmedia">Upload</a></li>
            <li></li>
            <li><a href="Message">Messages</a></li>

            <li></li>
            <li><a href="bytetracker">Byte Tracker</a></li>
            <li></li>
            <li><a href="History">History</a></li>
            <li></li>
            <li><a href="Playlist">Playlists</a></li>
            <li></li>
            <li><a href="Dataplan">Data Plan</a> </li>
            <li></li>
        </ul>


        <div class="dsbox">

            <samp><img src="../images/widegts_img.png"></samp>


        </div>

    </div>
</div>
<p class="info-p">
    Upload > Byte Your Music > Album (Express)
</p>

@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "post1", enctype = "multipart/form-data" }))
{
    <div class="aphidbytecenter content scrollWidth mCustomScrollbar _mCS_1" id="content_1">
        <div class="mCustomScrollBox mCS-light" id="mCSB_1" style="position:relative; height:100%; overflow:hidden; max-width:100%;">
            <div class="mCSB_container" style="position:relative; top:0;">
                @* <form novalidate="novalidate" action="/Basic/BasicAccountInfo" enctype="multipart/form-data" method="post">*@
                <input id="AudioInterruption" name="AudioInterruption" value="" type="hidden"><input id="SelectWatermarkInterruption" name="SelectWatermarkInterruption" value="" type="hidden">
                <div class="from_aphid">
                    <ul>
                        <li>
                            <label for="Artist Name">Artist Name:</label>
                            @Html.TextBoxFor(model => model.ArtistName, new { Value = username, @readonly = "readonly" })
                            @Html.ValidationMessageFor(model => model.ArtistName, null, new { @class = "ctext" })
                        </li>

                        <li>
                            <label for="psw">Tags: </label>
                            @Html.EditorFor(model => model.Tags)
                            @Html.ValidationMessageFor(model => model.Tags, null, new { @class = "ctext" })
                            <label for="Tags">(Automatically Populates)</label>

                        </li>
                        <li>
                            <label for="Company Logo">Title: </label>

                            @Html.EditorFor(model => model.Title)
                            @Html.ValidationMessageFor(model => model.Tags, null, new { @class = "ctext" })


                        </li>


                        <li>
                            <label for="Email Address">Upload Matrix Image:</label>
                            @Html.TextBoxFor(model => model.MatrixImage, new { type = "file", form = "file name" })
                            <label for="Tags">(.jpg or .png files only )</label>
                        </li>


                        <li>
                            <label for="Company Logo">Select Interruption File:</label>
                        </li>
                        @Html.DropDownListFor(model => model.SelectedIntFile, new List<SelectListItem>
                            {
                             new SelectListItem{Text="No Interruption"},
                             new SelectListItem{Text="Default AphidByte"},
                             new SelectListItem{Text="Custom Audio Interruption"}
                            })
                        <li>

                            <label for="Company Logo">Interruption Style:</label>
                        </li>
                        @Html.DropDownListFor(model => model.InterruptionStyle, new List<SelectListItem>
                        {
                            new SelectListItem{Text="Default Randomized Entry"},
                            new SelectListItem{Text="Producer Tag Sequence"},
                            new SelectListItem{Text="Beginning of File"},
                            new SelectListItem{Text="Ending of File"}
                        }
                            )
                        <li>
                            <label for="Company Logo">Available for Download:</label>
                        </li>
                        @Html.DropDownListFor(model => model.AvailableDownload, new List<SelectListItem> {
                             new SelectListItem{Text="Yes"},
                             new SelectListItem{Text="No"}

                        })

                        <li>
                            <label for="Company Logo">Explicit Content?:</label>
                        </li>
                        @Html.DropDownListFor(model => model.ExplicitContent, new List<SelectListItem> {
                                new SelectListItem{Text="Yes"},
                                new SelectListItem{Text="No"}
                                })
                        @*<li>
                                <label for="Company Logo">Explicit Content?:</label>
                                <a href="#" class="topopup">

                                    <input id="fineinput" name="FileUpload" style="background: none; width: 9%; padding-left:0px;" type="text">
                                </a>
                            </li>

                            <dl id="sample" class="dropdown" style="margin: -10px 0 0 210px; width: 210px;">
                                <dt><a href="#" id="firstdown"><span>No File Selected</span></a></dt>
                                <dd>
                                    <ul id="myul" class="dropdd-ubg" style="margin-left: -3px;">
                                        <li><a href="#">No</a></li>
                                        <li><a href="#">Yes</a></li>
                                    </ul>
                                </dd>
                            </dl>*@

                        <li>
                            <label for="Company Logo">Track 1:</label>

                            @Html.TextBoxFor(model => model.Audio, new { type = "file", form = "file name" })
                            <label for="Tags">(.mp3 or .wav. Files only )</label>
                        </li>
                        @*<li>
                                <label for="Company Logo">Track 1:</label>
                                <div class="editor-field">
                                    <input accept="image/*" id="ProfilePicture" name="ProfilePicture" value="" type="file">
                                    <span class="field-validation-valid ctext" data-valmsg-for="ProfilePicture" data-valmsg-replace="true"></span>
                                </div>
                            </li>
                        *@

                        <li>
                            <a href=""> <img src="/images/addsongpic.png" style=" position: absolute;width: 130px;"><br><br>Add song</a>



                        <li>
                            <label for="Company Logo">Track 2:</label>

                            @Html.TextBoxFor(model => model.Audio2, new { type = "file", form = "file name" })
                            <label for="Tags">(.mp3 or .wav. Files only )</label>
                        </li>


                        @*<label for="ProfilePicture">Track 2:</label>
                                </div>
                                <div class="editor-field">
                                    <input accept="image/*" id="ProfilePicture" name="ProfilePicture" value="" type="file">
                                    <span class="field-validation-valid ctext" data-valmsg-for="ProfilePicture" data-valmsg-replace="true"></span>
                                </div>
                            </li>*@

                        @*<li>
                                <label for="Company Logo">Tags:</label>
                                <input class="text-box single-line" id="UserName" name="UserName" value="" type="text"><label style="width: 8px;"><span style="color: red;">*</span></label>
                            </li>*@
                        <li>
                            <label for="psw">Tags: </label>
                            @Html.EditorFor(model => model.Tags)
                            @Html.ValidationMessageFor(model => model.Tags, null, new { @class = "ctext" })

                        </li>

                        <li>
                            <div align="center">
                            </div>
                        </li>
                    </ul>

                    <ul class="update" style="float: right; margin-right: 85px; margin-top: -315px;">
                        <input value="Express Upload" onclick"="" type="">

                    </ul>


                    <div id="confmBox" class="confirm_send_mail_div sendme_con" style="display:none;">

                        <div>
                            <h5 class="sendme_con_h5">
                                Confirmation:<img onclick="close_confmBox_popup()" class="cancel_delete-link" style="cursor: pointer; float: right; margin-top: 7px;" src="/Images/close.png">
                            </h5>
                            <p style="margin-top:8%;">
                                <strong>Are you Sure want to Upgrade ?</strong> <span id="Ncontacts">
                                </span>
                            </p>


                            <div class="btn-group sendme_con_groupbtn">
                                <button id="confrm_yes" class="btn add  sendme_con_yes" onclick="UpgradeTOPremium()">Yes</button>
                                <div class="btn cancel sendme_con_no" onclick="close_confmBox_popup()" style="cursor: pointer;">No</div>
                            </div>

                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="basicfooter-bytermain">
            <div class="bytet-mfm">
                <div>
                    <p>

                        <input type="submit" id="submitbutton" value="" style="background: url(/images/Add_song.png);background-repeat: no-repeat; height: 78px; width: 109px; border: none; cursor: pointer;" />
                    </p>
                </div>


                <div>
                    <p>
                        <a href="#">
                            <img src="/images/sear-mcredi-byter.png" id="preview" />
                        </a>


                    </p>
                    <p class="infof-p">Preview</p>
                </div>

                <div>
                    <p>

                        <input type="submit" value="" style="background: url(/images/ganrate_ppi.png);background-repeat: no-repeat; height: 78px; width: 85px; border: none;" formaction="Album" />
                    </p>
                    <p class="info-p">Generate</p>
                </div>


            </div>
            @*<div class="bytet-mfm" style="float: right;">
                    <div>
                        <p>
                            <a href="#">
                                <img id="preview" src="/images/sear-mcredi-byter.png">
                            </a>


                        </p>
                        <p class="infof-p">Preview</p>
                    </div>

                    <div>
                        <p>

                            <input type="submit" style="background: url(/images/ganrate_ppi.png);background-repeat: no-repeat; height: 78px; width: 85px; border: none;" value="" id="submitbutton" disabled="disabled">
                        </p>
                        <p class="info-p">Generate</p>
                    </div>


                </div>*@
        </div>

    </div>

}

<script>
    (function ($) {


        $("#browseBtns,#browseBtnsAdd").fadeTo('slow', .2);
        $(".browseInput").each(function (index) {
            if (index > 3)
                $(this).remove();
        });
        $("#browseBtns,#browseBtnsAdd,#btnUpload").prop('disabled', true);

        $(window).load(function () {
            $(".content").mCustomScrollbar();
        });
    })(jQuery);

    function CloseThis() {
        $("#popup").fadeOut("fast");
        player.pause();
    }
</script>

<script type="text/javascript">
    var prog = 0;
    function updateProgress() {
        var value = $("#progressbar").progressbar("option", "value");
        if (value < 100) {
            $("#progressbar").progressbar("value", value + 1);
        }
    }

    $(document).ready(function () {

        var abc = '@ViewBag.albumcount';
        abc++;
        var ttext = "Track " + abc;
        $('#trackNo').text(ttext);


        $('#buttn-suc').click(function () {
            $('#buttn-suc').hide();
        });

        $('#upgradePremium').click(function () {
            $("#yesno").attr('style', 'display:block');
        });

        $("#yes").click(function () {
            $("#yesno").attr('style', 'display:none');
            $.post('/Basic/UpgardeToPremium', {}, function (data) {
                if (data == "Success") {

                    $("#upgradebox").attr('style', 'display:block');
                } else { $("#button-bg4").attr('style', 'display:block'); }

            });

        });
        $("#no").click(function () {
            $("#yesno").attr("style", "display:none");
        });



        $("#Title").val("");
        $("#Captcha").val("");
        if ('@ViewBag.albumcount' >= 0)
        {
            $("#Isvalid").removeAttr('checked');
        }

        var bb = '@ViewBag.Messa';
        if (bb == "Album successfully uploaded..")
        {
            $("#socialname1").text('Album successfully uploaded..');
            $("#buttn-suc").show();
        }

        var audioName;
        var audioName2;

        $("#PlayDefaultAudio").click(function () {
            var qq = $("#DefaultText").text();
            var dd = $("#text1").text();
            $('#progress').html('<img src="/Images/ajax-loader-11.gif" id="pro" />');
            if (qq != "Default AphidByte") {
                qq = "Custom Audio Interruption";
            }

            if (dd == "Default Randomized Entry") {
                // $("#popup").fadeIn("fast");
                $("#waveimg").attr('src', '/images/byteraudiopbg1.png');
            }
            if (dd == "Producer Tag Sequence") { $("#waveimg").attr('src', '/images/byteraudiopbg2.png'); }
            if (dd == "Beginning of File") { $("#waveimg").attr('src', '/images/byteraudiopbg3.png'); }
            if (dd == "Ending of File") { $("#waveimg").attr('src', '/images/byteraudiopbg4.png'); }
            $.post('/Basic/Interruption',
                       { IntF: qq, FileName: audioName, IntS: dd, FileName2: audioName2 }, function (data) {
                           $("#player").attr('src', data);

                       });
            // $('#progress').hide();

        });
        $("#PlayNextAudio").click(function () {
            var qq = $("#DefaultText").text();
            var dd = $("#text1").text();
            $('#progress').html('<img src="/Images/ajax-loader-11.gif" id="pro" />');
            if (qq != "Default AphidByte") {
                qq = "Custom Audio Interruption";
            }

            if (dd == "Default Randomized Entry") {
                // $("#popup").fadeIn("fast");
                $("#waveimg").attr('src', '/images/byteraudiopbg1.png');
            }
            if (dd == "Producer Tag Sequence") { $("#waveimg").attr('src', '/images/byteraudiopbg2.png'); }
            if (dd == "Beginning of File") { $("#waveimg").attr('src', '/images/byteraudiopbg3.png'); }
            if (dd == "Ending of File") { $("#waveimg").attr('src', '/images/byteraudiopbg4.png'); }
            $.post('/Basic/Interruption',
                       { IntF: qq, FileName: audioName, IntS: dd, FileName2: audioName2 }, function (data) {
                           $("#player").attr('src', data);

                       });
            // $('#progress').hide();

        });


        $(".byter-preview").click(function () {
            player.play();
        });

        $(".byter-continue").click(function () {
            $("#popup").fadeOut("fast");
        });
        $('#submitbutton').click(function () {
            if (prog == 1) {
                $("#show_pop").attr('style', 'display:block');
            }
            else {
                $("#show_pop").hide();
            }
        });

        $('#Audio').fileupload({
            dataType: 'json',
            url: '/Basic/PreviewAudio',
            autoUpload: true,
            done: function (e, data) {
                audioName = data.result.name;
                $("#Audio").append(audioName);
                $('.progressbar').css('width', 0 + '%');
                document.getElementById('progresstext').innerHTML = '';
                $('#MatrixImage').removeAttr('disabled', 'disabled');
                prog = 0;
                $("#show_pop").hide();
            }
        }).on('fileuploadprogressall', function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('.progressbar').css('width', progress + '%');
            document.getElementById('progresstext').innerHTML = 'UPLOADED ' + progress + '%';
            $("#show_pop").attr('style', 'display:block');
            $("#MatrixImage").attr('disabled', 'disabled');
            $("#submitbutton").attr('disabled', 'disabled');
            prog = 1;
        });

        $('#Audio2').fileupload({
            dataType: 'json',
            url: '/Basic/PreviewAudio',
            autoUpload: true,
            done: function (e, data) {
                audioName2 = data.result.name;
                $("#Audio2").append(audioName2);
            }
        });

        $("#PauseDefaultAudio").click(function () {
            player.pause();
        });

        $("#tick_img").draggable({ containment: '.newdragdiv' });
        $("#tick_img").draggable({ axis: "x" });
        var durat;
        var oAudio = document.getElementById('player');

        oAudio.addEventListener("loadedmetadata", function (_event) {
            durat = oAudio.duration;
            //alert(durat);
            var timeline1 = document.getElementById('duration_p');
            var s11 = parseInt(oAudio.duration % 60);
            var m11 = parseInt((oAudio.duration / 60) % 60);
            if (s11 > 10) {
                timeline1.innerHTML = m11 + ':' + s11;
            }
            else {
                timeline1.innerHTML = m11 + ':0' + s11;
            }

        });
        oAudio.addEventListener("load", function () { }, true);

        oAudio.play();
        //var dur = parseInt(oAudio.duration % 60);
        //alert(dur);

        //
        oAudio.addEventListener("timeupdate", function () {
            var timeline = document.getElementById('duration_pl');
            var s = parseInt(oAudio.currentTime % 60);
            var m = parseInt((oAudio.currentTime / 60) % 60);
            if (s < 10) {
                timeline.innerHTML = m + ':0' + s;
            }
            else {
                timeline.innerHTML = m + ':' + s;
            }
            var progress = parseInt(oAudio.currentTime / oAudio.duration * 100, 10);
            $('#tick_img').css('left', progress + '%');
            //***
            $("#tick_img").mouseup(function () {
                var lft = $("#tick_img").css('left').replace('px', '');
                lft = parseInt(lft);
                lft = (lft / 436) * 100;
                lft = parseFloat(lft);
                var a = player.duration;
                a = parseFloat(a);
                var x = (a * lft) / 100;
                player.currentTime = x;
                player.play();
            });

            //***

        }, false);


        var captchavalue = null;
        $("#submitbutton").attr('disabled', 'disabled');
        refreshcaptch();
        function refreshcaptch() {
            $('#cptcha').attr('src', '/Basic/ShowCaptchaImage');
            $.post("/Basic/GetCaptcha", function (retObject) {
                captchavalue = retObject;
            });
        }
        function funct_rest() {
            player.pause();
            player.currentTime = 0;
        }
        $("#Isvalid").change(function () {
            if ($("#Isvalid").attr('checked')) {
                var bb = $("#Captcha").val();
                if ((captchavalue == bb) && (prog == 0)) {
                    $('#submitbutton').removeAttr('disabled', 'disabled');
                }
                else { }
            }
            else {
                alert("Accept Terms and Conditions");
                $("#submitbutton").attr('disabled', 'disabled');
            }
        });
        $('#Captcha').change(function () {
            var bb = $("#Captcha").val();
            if (captchavalue != bb) {
                $('#button-bg3').show();
                refreshcaptch();
                $("#submitbutton").attr('disabled', 'disabled');
            }
            else {
                if ($("#Isvalid").attr('checked') && (prog == 0)) {
                    $('#submitbutton').removeAttr('disabled', 'disabled');
                }
            }
        });

        $("#MatrixImage").change(function () {
            var name = $(this).val();
            var split = name.split('.');
            if (split[1] == "jpg" || split[1] == "JPG" || split[1] == "png" || split[1] == "PNG") {

            }
            else {
                $("#button-bg1").dialog("open");
                $("#MatrixImage").val("");
            }

        });


        $('#MatrixImage').fileupload({
            dataType: 'json',
            url: '/Basic/MatrixImage',
            autoUpload: true,
            done: function (e, data) {
                // alert(data);
                $('.progressbar').css('width', 0 + '%');
                document.getElementById('progresstext').innerHTML = '';
                $("#show_pop").hide();
                $('#Audio').removeAttr('disabled', 'disabled');
                prog = 0;
            }
        }).on('fileuploadprogressall', function (e, data) {
            var progress = parseInt(data.loaded / data.total * 100, 10);
            $('.progressbar').css('width', progress + '%');
            document.getElementById('progresstext').innerHTML = 'UPLOADED ' + progress + '%';
            $("#show_pop").attr('style', 'display:block');
            $("#submitbutton").attr('disabled', 'disabled');
            prog = 1;
            $("#Audio").attr('disabled', 'disabled');
        });

        $("#Audio").change(function () {
            var name = $(this).val();
            var split = name.substring(name.lastIndexOf('.') + 1);
            if (split == "mp3" || split == "MP3" || split == "wav" || split == "WAV") {

            }
            else {
                $("#button-bg1").dialog("open");
                $("#Audio").val("");
            }

        });

        $("#Audio2").change(function () {
            var name = $(this).val();
            var split = name.substring(name.lastIndexOf('.') + 1);
            if (split == "mp3" || split == "MP3" || split == "wav" || split == "WAV") {

            }
            else {
                $("#button-bg1").dialog("open");
                $("#Audio2").val("");
            }

        });

        $("#SelectedIntFile").append("<option>Default AphidByte</option>");

        $("#preview").click(function () {
            if ($("#Audio").val() != '') {
                $("#popup:visible").hide();
                //$('#progress').html('<img src="/Images/ajax-loader-11.gif" id="pro" />');
                var intStyle = $("#InterruptionStyle").val();
                var intFile = $("#SelectedIntFile").val();
                $("#DefaultText").text(intFile);
                $("#text1").val(intStyle);
                $.post('/Basic/Interruption',
                           { IntS: intStyle, IntF: intFile, FileName: audioName, FileName2: audioName2 }, function (data) {

                               $("#player").attr('src', data);
                               if (intStyle == "Default Randomized Entry") {
                                   $("#popup").fadeIn("fast");
                                   $("#waveimg").attr('src', '/images/byteraudiopbg1.png');
                               }
                               if (intStyle == "Producer Tag Sequence") { $("#popup").fadeIn("fast"); $("#waveimg").attr('src', '/images/byteraudiopbg2.png'); }
                               if (intStyle == "Beginning of File") { $("#popup").fadeIn("fast"); $("#waveimg").attr('src', '/images/byteraudiopbg3.png'); }
                               if (intStyle == "Ending of File") { $("#popup").fadeIn("fast"); $("#waveimg").attr('src', '/images/byteraudiopbg4.png'); }

                           });

                // $("#image-placeholder").attr("src", $(this).attr("href"));
            }
        });

        $(function () {
            $('#preview').click(function () {

                if ($(("#Audio").val() == '')||(("#Audio2").val() == '')) {
                    $("#button-bg2").dialog("open");

                }

            });
        });

        $("#popup-close").click(function (e) {
            $("#popup").fadeOut("fast");
        });
        $("#popupProducer-close").click(function (e) {
            $("#popupProducer").fadeOut("fast");
        });
        $("#popupBegning-close").click(function (e) {
            $("#popupBegning").fadeOut("fast");
        });
        $("#popupEnding-close").click(function (e) {
            $("#popupEnding").fadeOut("fast");
        });

        $("#basicbyter").click(function () {
            $("#byterclick").toggle();
        });

        $("#byterclick li a").click(function () {
            var text = $(this).html();
            $("#basicbyter span").html(text);
            $("#byterclick").hide();
        });

        $(document).bind('click', function (e) {
            var $clicked = $(e.target);
            if (!$clicked.parents().hasClass("dropdownbyter"))
                $("#byterclick").hide();
        });


        $("#basicbyterone").click(function () {
            $("#byterclick2").toggle();
        });

        $("#byterclick2 li a").click(function () {
            var text = $(this).html();
            $("#basicbyterone span").html(text);
            $("#byterclick2").hide();
        });

        $(document).bind('click', function (e) {
            var $clicked = $(e.target);
            if (!$clicked.parents().hasClass("dropdownbyter"))
                $("#byterclick2").hide();
        });



        $("#basicbytertwo").click(function () {
            $("#byterclick3").toggle();
        });

        $("#byterclick3 li a").click(function () {
            var text = $(this).html();
            $("#basicbytertwo span").html(text);
            $("#byterclick3").hide();
        });

        $(document).bind('click', function (e) {
            var $clicked = $(e.target);
            if (!$clicked.parents().hasClass("dropdownbyter"))
                $("#byterclick3").hide();
        });


        $("#basicbyterfour").click(function () {
            $("#byterclick4").toggle();
        });

        $("#byterclick4 li a").click(function () {
            var text = $(this).html();
            $("#basicbyterfour span").html(text);
            $("#byterclick4").hide();
        });

        $(document).bind('click', function (e) {
            var $clicked = $(e.target);
            if (!$clicked.parents().hasClass("dropdownbyter"))
                $("#byterclick4").hide();
        });



    });


    function goback() {
        window.history.back();
    }

</script>





